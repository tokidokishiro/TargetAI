# AI搭載 商品・FAQ検索システム

## はじめに

- 小島大智が製作した特定商品の検索ツールです。
- アプリURL
  - 無料プランを利用しているため、起動に40秒ほどお時間を頂戴しております。お忙しい中、大変恐れ入りますが、何卒ご理解のほどよろしくお願いいたします。
  - https://muji-av9h.onrender.com

## コンセプト

本アプリは無印良品のコスメ商品を個人的に勉強するために製作されたアプリです。このアプリを使用することで商品同士の比較や商品の説明をAIを利用して効率的に学ぶことを目指しました。
本プロジェクトは、自然言語処理とAIを活用した高度な商品検索・FAQ検索システムです。ユーザーからの質問に対して、関連する商品情報やFAQをインテリジェントに検索し、Gemini AIモデルを用いて自然な回答を生成します。メモリ効率・パフォーマンス・セキュリティに重点を置いた設計となっており、大規模データセットでも高速に動作します。

## アプリの流れ

- 質問を送信
- pythonで類似商品、類似FAQのスコア化
- スコア上位をユーザーとAIに提示
  - ユーザーはスコア上位結果を閲覧可能に
  - AIはこの間に質問とスコア上位結果をもとに回答を作成
- AIの回答作成後、ユーザーに提示

![スクリーンショット](./screenshot.png)

## 技術スタック

### バックエンド
- **Python 3.9** - コアプログラミング言語
- **Flask** - 軽量Webフレームワーク
- **Janome** - 日本語形態素解析器
- **Google Gemini AI** - 自然言語処理・回答生成

### フロントエンド
- **HTML5/CSS3** - レスポンシブUI設計
- **JavaScript (ES6+)** - フロントエンド制御
- **Font Awesome** - アイコンライブラリ

### セキュリティ対策
- **Flask-WTF** - CSRF保護
- **Flask-Limiter** - レート制限 (DDoS対策)
- **Content Security Policy** - XSS攻撃対策
- **入力検証システム** - インジェクション攻撃対策

### 注意点
- AIと共に製作したため、上記のスキルを完全に理解しているわけではありません。何卒ご留意ください。

## 主な機能

### 1. インテリジェント検索システム
- 形態素解析を使用した高精度なキーワード抽出
- スコアリングアルゴリズムによる関連度の高い情報提示
- 商品情報・FAQ情報の統合検索

### 2. AIによる自然言語回答生成
- Google Geminiモデルを活用した高品質な回答生成
- 文脈を考慮した関連情報の統合
- ユーザー質問の意図理解と適切な情報提供

### 3. 最適化されたシステム設計
- 遅延ローディングによるメモリ使用量の最小化
- 段階的データ取得によるUXの向上
- スケーラブルな設計思想

### 4. セキュリティ強化機能
- 全ユーザー入力に対する厳格な検証と無害化
- XSS、CSRFなどの一般的な攻撃からの保護
- APIエンドポイント別レート制限による乱用防止

### 5. インタラクティブUI
- 折りたたみ式セクションによる情報の整理
- リアルタイムシステムステータス表示
- 非同期データ取得による高速レスポンス

## パフォーマンス最適化

- **リソースの遅延初期化**: 必要になるまでリソースをロードしないことでメモリ使用量を削減
- **2段階検索プロセス**: 高速検索結果の即時表示と詳細AI回答の段階的取得
- **効率的なデータ構造**: 必要な情報のみをクライアントに送信
- **キャッシュ戦略**: システムリソースの効率的な管理

## セキュリティ対策

- **入力検証システム**: 特殊文字のエスケープ処理と危険なパターンの検出
- **コンテンツセキュリティポリシー**: 許可されたソースからのリソースのみ読み込み
- **セキュアなセッション管理**: HTTPSによる暗号化とセッションタイムアウト
- **包括的なエラーハンドリング**: セキュリティ情報の漏洩防止
- **レート制限**: DDoS攻撃やブルートフォース攻撃からの保護

## システムアーキテクチャ

```
クライアント <--> Flask Webサーバー <--> データソース (JSON) <--> Google Gemini API
                       |
                       ↓
                 形態素解析エンジン
```

## 開発における工夫

1. **メモリ効率**: 大規模データセットでも効率的に動作するよう、必要なときだけリソースをロードする設計を採用しました。これにより、サーバーのメモリ使用量を大幅に削減しています。

2. **ユーザー体験の向上**: ユーザーが質問を入力してから回答が得られるまでの体験を最適化するため、まず関連情報を素早く表示し、その後AIによる詳細な回答を取得する2段階プロセスを実装しました。

3. **セキュリティ重視の設計**: すべてのユーザー入力に対して厳格な検証を行い、XSS、CSRF、インジェクション攻撃などから保護する包括的なセキュリティ対策を実装しました。

4. **スケーラビリティ**: システムが増大するデータセットにも対応できるよう、効率的なアルゴリズムとデータ構造を採用しました。

5. **エラー耐性**: 例外処理とログ記録を徹底し、予期せぬエラーが発生しても適切に対応できるロバストなシステムを構築しました。

## 今後の展望

- スコアの最適化による検索精度の継続的改善
  - この検索結果によってＡＩの回答精度が変わるため
- 質問の保存
  - ユーザーの質問を知ることによって、表示方法の改善

## インストール方法

```bash
# リポジトリのクローン
git clone https://github.com/yourusername/ai-product-search.git
cd ai-product-search

# 仮想環境の作成と有効化
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 依存パッケージのインストール
pip install -r requirements.txt

# 環境変数の設定
cp .env.example .env
# .envファイルにGEMINI_API_KEYを設定

# アプリケーションの実行
python app.py
```

## 使用方法

1. ブラウザで `http://localhost:5000` にアクセス
2. 質問入力欄に商品やサービスに関する質問を入力
3. 「検索」ボタンをクリック
4. 関連する商品情報とFAQが表示され、続いてAIによる回答が表示される

## 開発者情報

**氏名**: 小島　大智
**メール**: kojimadaichi27@gmail.com
**アプリURL**: https://muji-av9h.onrender.com


---

本プロジェクトは、効率的なデータ処理、高度な自然言語処理、セキュアなWebアプリケーション開発のスキルを実証するものです。特に、限られたリソースで最大のパフォーマンスを発揮できるよう、多角的な最適化を行っている点が特徴です。
